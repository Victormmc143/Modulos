<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <record id="ingreso_form_view" model="ir.ui.view">
            <field name="name">ingreso.form</field>
            <field name="model">ingresos</field>
            <field name="arch" type="xml">
                <form string="codigo_ingreso" edit="false">

                    <sheet>
                        <group>
                            <group>
                                <field name="codigo_ingreso"  />
                            </group>
                            <group>
                                <field name="fecha_ingreso"  />
                            </group>
                            <group>
                                <field name="id_paciente" options="{'no_open':true,'no_quick_create':true,'no_create_edit':true,'no_create':true}"/>
                            </group>
                            <group>
                                <field name="nom_paciente"/>
                            </group>
                            <group>
                                <field name="id_eps" options="{'no_open':true,'no_quick_create':true,'no_create_edit':true,'no_create':true}"/>
                            </group>
                            <group>
                                <field name="tarifa" options="{'no_open':true,'no_quick_create':true,'no_create_edit':true,'no_create':true}"/>
                            </group>
                            <group>
                                <field name="d_cargar"/>
                            </group>
                            <group>
                                <field name="doc_file" attrs="{'invisible': [('d_cargar','=','0')], 'required': [('d_cargar','=','1')]}"/>
                            </group>
                        </group>
                        <group> <field name="totalpagar" /></group>
                        <notebook>
                            <page name="Relacion De examenes" string="Listado De Examenes">
                                <field name="producto_ids">
                                    <tree editable="bottom">
                                        <field name="examenes_id" options="{'no_open':true,'no_quick_create':true,'no_create_edit':true,'no_create':true}"/>
                                        <field name="cantidad"/>
                                        <field name="valor"/>
                                        <field name="total"/>
                                    </tree>
                                </field>
                            </page>
                        </notebook>
                    </sheet>
                </form>
            </field>
        </record>

        <record id="examenes_ids_view_tree" model="ir.ui.view">
            <field name="name">examenes_ids_view_tree</field>
            <field name="model">ingreso.detalle</field>
            <field name="arch" type="xml">
                <tree string="ingreso_detalle_tree" editable="bottom">
                    <field name="examenes_id" options="{'no_open':true,'no_quick_create':true,'no_create_edit':true,'no_create':true}"/>
                    <field name="cantidad"/>
                    <field name="valor"/>
                    <field name="total"/>
                </tree>
            </field>
        </record>
        <record id="examenes_ids_view_actions" model="ir.actions.act_window">
            <field name="name">examenes.ids.view.actions</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">ingreso.detalle</field>
            <field name="view_mode">tree</field>
        </record>

        <record id="ingreso_tree_view" model="ir.ui.view">
            <field name="name">ingreso.tree</field>
            <field name="model">ingresos</field>
            <field name="arch" type="xml">
                <tree string="ingreso">
                    <field name="codigo_ingreso"  />
                    <field name="fecha_ingreso"  />
                    <field name="id_paciente"  />
                    <field name="nom_paciente"  />
                    <field name="id_eps"  />
                    <field name="tarifa"  />
                    <field name="totalpagar" />
                </tree>
            </field>
        </record>

        <record id="ingreso_action_view" model="ir.actions.act_window">
            <field name="name">Ingreso</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">ingresos</field>
            <field name="view_mode">tree,form</field>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                    click here to add new Ingreso.
                </p>
            </field>
        </record>
        <menuitem
                name="Historia Clinica"
                id="historia_clinica_item_menu"
                action="ingreso_action_view"/>
        <menuitem name="Admisiones" id="admisiones_item" parent="historia_clinica_item_menu"/>
        <menuitem name="Generales" id="generales_item" parent="historia_clinica_item_menu"/>
        <menuitem
                name="Ingreso"
                id="ingreso1"
                parent="admisiones_item"
                action="ingreso_action_view"/>
    </data>
</odoo>